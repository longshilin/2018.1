<!DOCTYPE html><html class="no-js" lang="zh_CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="Android 环境设置 - Unity Manual">
<title>Android 环境设置 - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/2018.1/uploads/Main/android-sdksetup-0.png">
<meta name="description" content="无论是在 Unity 中构建 Android 应用程序还是从头开始编程，都必须先设置 Android 软件开发工具包 (SDK)，然后才能在 Android 设备上构建并运行代码。">
<meta property="og:description" content="无论是在 Unity 中构建 Android 应用程序还是从头开始编程，都必须先设置 Android 软件开发工具包 (SDK)，然后才能在 Android 设备上构建并运行代码。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'android-sdksetup';
      if(!page) page = 'index';
      var version = '2018.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/zh_CN/2018.1/Manual/android-sdksetup.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2018.1/Manual/android-sdksetup.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/ja/2018.1/Manual/android-sdksetup.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2018.1/Manual/android-sdksetup.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2018.1/Manual/android-sdksetup.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2018.1/Documentation/Manual/android-sdksetup.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2018.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/android-sdksetup.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/android-sdksetup.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/android-sdksetup.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/android-sdksetup.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/android-sdksetup.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/android-sdksetup.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/android-sdksetup.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/android-sdksetup.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/android-sdksetup.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/android-sdksetup.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/android-sdksetup.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/android-sdksetup.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2018.1/Documentation/Manual/android-sdksetup.html">English</a></li>
<li><a data-lang="ja" href="/ja/2018.1/Manual/android-sdksetup.html">日本語</a></li>
<li><a data-lang="es" href="/es/2018.1/Manual/android-sdksetup.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2018.1/Manual/android-sdksetup.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2018.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/android-sdksetup.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/android-sdksetup.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/android-sdksetup.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/android-sdksetup.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/android-sdksetup.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/android-sdksetup.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/android-sdksetup.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/android-sdksetup.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/android-sdksetup.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/android-sdksetup.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/android-sdksetup.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/android-sdksetup.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2018.1)</a></li>
<li><a href="PlatformSpecific.html">特定于平台的信息</a></li>
<li><a href="android.html">Android</a></li>
<li><a href="android-GettingStarted.html">Android 开发入门</a></li>
<li>Android 环境设置</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-GettingStarted.html"></a></span><div class="tip">Android 开发入门</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityRemote5.html"></a></span><div class="tip">Unity Remote</div>
</div>
</div></div>
<h1>Android 环境设置</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>无论是在 Unity 中构建 Android 应用程序还是从头开始编程，都必须先设置 Android 软件开发工具包 (SDK)，然后才能在 Android 设备上构建并运行代码。</p>

<h3>1.安装 Java 开发工具包</h3>

<p>下载并安装 <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java 开发工具包 (JDK)</a>。Unity 需要 64 位版本的 JDK 8 (1.8)。</p>

<h3>2.下载 Android SDK</h3>

<p>You can install the Android SDK using command line tools or through Android Studio. Android Studio provides an easy to use GUI based tool, but installs additional software on your computer. Using the command line tools is a smaller download and does not install additional software, but it can be more challenging to use.</p>

<h4>2a.使用命令行工具安装 Android SDK</h4>

<p>安装或解压 Android SDK。安装完成后，打开 Android SDK Manager 并添加：至少一个 Android SDK 平台 (Android SDK Platform)、平台工具 (Platform Tools)、构建工具 (Build Tools) 和 USB 驱动程序（如果使用的是 Windows）。</p>

<p>要安装 Android 平台 SDK 和相关工具，请执行以下操作：</p>

<p>1.下载 <a href="https://developer.android.com/studio/index.html#downloads">Android 软件命令行工具</a>。</p>

<p>2.将 tools 文件夹解压缩到硬盘驱动器上的某个位置。</p>

<p>3.打开命令提示符窗口。</p>

<p>4.导航到 tools 文件夹的解压缩位置中的 bin 文件夹：
 “安装文件夹” &gt; tools &gt; bin</p>

<p>5.使用 <a href="https://developer.android.com/studio/command-line/sdkmanager.html">sdkmanager</a> 命令行工具检索可安装包列表。可安装包中包括平台 SDK、构建工具、平台工具和其他工具。</p>

<pre><code>*sdkmanager --list*
</code></pre>

<p>6.选择要安装的平台 SDK 版本。平台 SDK 在列表中采用以下形式：platforms;android-xx。<em>xx</em> 表示 SDK 级别。数字越大，包越新。
通常，可安装最新的可用版本。但是，在某些情况下，Google 发布了新版本的 SDK，但在构建 Unity 项目时会导致错误。在这种情况下，必须卸载 SDK 并安装早期版本。
包安装命令的一般格式为 <em>sdkmanager &lt;包名称&gt;</em>。可同时安装相应的平台工具和构建工具。</p>

<pre><code>示例：
    *sdkmanager "platform-tools"  "platforms;android-27" "build-tools;27.0.3"*
</code></pre>

<p>1.如果是在 Windows 上运行，请安装 USB 设备驱动程序。</p>

<pre><code>*sdkmanager "extras;google;usb_driver"*
</code></pre>

<p>这会将 SDK 安装在先前解压缩 tools 文件夹所在的目录中名为“platforms”的目录中。
示例：
c:\&lt;安装文件夹&gt;\platforms</p>

<h4>2b.使用 Android Studio 安装 SDK</h4>

<p>从 <a href="https://developer.android.com/index.html">Android 开发者门户</a>安装 Android Studio。Android 开发者门户提供了详细的安装说明。</p>

<p><strong>Note</strong>: Android Studio provides some ease of use benefits, but it is not fully tested for compatibility with Unity installs. If you encounter errors, Unity recommends using the command line method.</p>

<p>安装 Android 平台 SDK 和其他工具时，通常可安装最新的可用版本。在某些情况下，Google 发布了新版本的 SDK，但在构建 Unity 项目时会导致错误。在这种情况下，必须卸载 SDK 并安装早期版本。</p>

<p>应同时安装相关的平台工具和构建工具。如果是在 Windows 上运行，请安装 USB 设备驱动程序。</p>

<h3>3.在设备上启用 USB 调试</h3>

<p>要启用 USB 调试，必须在设备上启用开发者选项 (Developer options)。要完成该操作，请在您的设备的 <strong>Settings</strong> 菜单中找到版本号。版本号的位置因设备而异。可通过导航到 <strong>Settings</strong> &gt; <strong>About phone</strong> &gt; <strong>Build number</strong> 来找到初始 Android 设置。有关设备和 Android 版本的具体信息，请咨询硬件制造商。</p>

<figure>
<img src="../uploads/Main/android-sdksetup-0.png" alt="在 Samsung Galaxy Note 3 上的 Android 5.0 (Lollipop) 中显示的 Build number">
<figcaption>在 Samsung Galaxy Note 3 上的 Android 5.0 (Lollipop) 中显示的 Build number</figcaption>
</figure>

<p><strong>注意：__在 4.2 (Jelly Bean) 之前的 Android 版本上，不会隐藏 Developer options。选择 </strong>Settings__ &gt; __Developer options__，然后启用 USB debugging。</p>

<p>按照上述说明导航到版本号后，点击版本号七次。随后会弹出一条通知消息“You are now X steps away from being a developer”，其中“X”是一个数字，每点击一次就会倒数一个数。在第七次点击时，Developer options 将解锁。</p>

<p>用 USB 线缆将设备连接到计算机。如果在 Windows 计算机上进行开发，可能需要安装特定于设备的 USB 驱动程序。如需了解更多信息，请参阅设备制造商网站。</p>

<p>Windows 和 macOS 的设置过程有所不同；对此，Android 开发者网站上有详细说明。有关将 Android 设备连接到 SDK 的更多信息，请参阅 Android 开发者文档的<a href="https://developer.android.com/training/basics/firstapp/running-app.html#Emulator">运行应用程序 (Running Your App)</a> 部分。</p>

<p>在设备通过 USB 连接到计算机时，选择 <strong>Settings</strong> &gt; __Developer options__，并选中 USB debugging 复选框以启用调试模式。</p>

<figure>
<img src="../uploads/Main/android-sdksetup-1.png" alt="在 Android 5.0 (Lollipop) 中显示的 Developer options - Samsung Galaxy Note 3">
<figcaption>在 Android 5.0 (Lollipop) 中显示的 Developer options - Samsung Galaxy Note 3</figcaption>
</figure>

<h3>4.在 Unity 中配置 Android SDK 路径</h3>

<p>第一次创建 Android 项目时（或者如果 Unity 稍后无法找到 SDK），Unity 会要求您找到安装 Android SDK 的文件夹。</p>

<p>如果是使用的 sdkmanager 来安装 SDK，则可在 &lt;android 工具安装位置&gt;\platforms\&lt;android sdk 文件夹&gt; 中找到该文件夹。</p>

<p>示例：</p>

<p><em>c:\&lt;android 工具安装位置&gt;\platforms\android–27</em></p>

<p>如果是在安装 Android Studio 时安装的 SDK，则可在 Android Studio SDK Manager 中找到该位置。要从 Android Studio 打开 SDK Manager，请单击 <strong>Tools &gt; Android &gt; SDK Manager</strong> 或单击工具栏中的 <strong>SDK Manager</strong>。</p>

<figure>
<img src="../uploads/Main/androidsdkmanagertoolbarbutton.png" alt="SDK Manager 工具栏按钮">
<figcaption>SDK Manager 工具栏按钮</figcaption>
</figure>

<p>要更改 Android SDK 的位置，请在菜单栏中选择 <strong>Unity</strong> &gt; <strong>Preferences</strong> &gt; <strong>External Tools</strong>。</p>

<h3>5.下载并设置 Android NDK</h3>

<p>如果要使用 Android 的 <a href="https://docs.unity3d.com/Manual/IL2CPP.html">IL2CPP</a> 脚本后端，则需要 Android 原生开发工具包 (NDK)。该工具包中包含构建必要库并最终生成输出包 (APK) 所需的工具链（如编译器和链接器）。如果不以 IL2CPP 后端为目标，则可以跳过此步骤。</p>

<p>从 <a href="https://developer.android.com/ndk/downloads/index.html">NDK 下载</a>网页下载 Android NDK 版本 r13b（64 位）。将 <em>android-ndk</em> 文件夹解压缩到计算机上的目录，并记下该位置。</p>

<p>第一次使用 IL2CPP 构建 Android 项目时，系统会要求您找到安装 Android NDK 的文件夹。选择 NDK 安装的根文件夹。要更改 Android NDK 的位置，请在 Unity Editor 中导航到菜单 <strong>Unity</strong> &gt; <strong>Preferences</strong> 以显示 Unity Preferences 对话框。在此处单击 <strong>External Tools</strong>。</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-GettingStarted.html"></a></span><div class="tip">Android 开发入门</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityRemote5.html"></a></span><div class="tip">Unity Remote</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2018 Unity Technologies. Publication 2018.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
